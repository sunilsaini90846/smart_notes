# App Flow & User Journey ğŸ—ºï¸

## ğŸ“± Screen Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        HOME SCREEN                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  My Notes                            [Search] [â€¢â€¢â€¢]  â”‚   â”‚
â”‚  â”‚  12 notes                                            â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  [All] [Plain] [Account] [Password] [Bank] [Sub]    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                       â”‚   â”‚
â”‚  â”‚     ğŸ“ Personal Notes                   [Left Wing]  â”‚   â”‚
â”‚  â”‚     Lorem ipsum dolor...                             â”‚   â”‚
â”‚  â”‚                                                       â”‚   â”‚
â”‚  â”‚                    ğŸ” Passwords    [Right Wing]      â”‚   â”‚
â”‚  â”‚                    ğŸ”’ Locked                         â”‚   â”‚
â”‚  â”‚                                                       â”‚   â”‚
â”‚  â”‚     ğŸ’³ Bank Cards                   [Left Wing]      â”‚   â”‚
â”‚  â”‚     Chase â€¢â€¢â€¢â€¢ 1234                                  â”‚   â”‚
â”‚  â”‚                                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          [+ New Note]                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Tap Card
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Encrypted?    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚           â”‚
                  Yes   â”‚           â”‚ No
                        â–¼           â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ UNLOCK MODAL â”‚   â”‚ NOTE DETAIL  â”‚
            â”‚              â”‚   â”‚              â”‚
            â”‚  ğŸ”’ Enter    â”‚   â”‚ [Copy] [Edit]â”‚
            â”‚  Password    â”‚   â”‚ [Delete]     â”‚
            â”‚              â”‚   â”‚              â”‚
            â”‚ [Cancel][OK] â”‚   â”‚ Content...   â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ Tags: #work  â”‚
                    â”‚           â”‚ Created: ... â”‚
             Valid  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                   â”‚
                    â–¼                   â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
            â”‚ NOTE DETAIL  â”‚           â”‚
            â”‚  (Unlocked)  â”‚           â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
                    â”‚                   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                      [Edit]â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      NOTE EDITOR                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [â†] Edit Note                                       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Note Type:                                          â”‚   â”‚
â”‚  â”‚  [ğŸ“Plain] [ğŸ‘¤Account] [ğŸ”Password] [ğŸ’³Bank] [ğŸ“…Sub]â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Title: _______________________________________      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Content:                                            â”‚   â”‚
â”‚  â”‚  _____________________________________________       â”‚   â”‚
â”‚  â”‚  _____________________________________________       â”‚   â”‚
â”‚  â”‚  _____________________________________________       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  ğŸ”’ Encrypt this note           [  Toggle  ]        â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Password (if encrypted):  _______________  ğŸ‘       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Tags: #work #personal #important                    â”‚   â”‚
â”‚  â”‚  Add tag: ___________ [+]                            â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚              [ğŸ’¾ Create/Update Note]                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                      [Save]  â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Save to Hive   â”‚
                    â”‚   (Encrypted    â”‚
                    â”‚   if enabled)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                        Back to Home
```

---

## ğŸ¬ User Journeys

### Journey 1: Create a Simple Note

```
1. User opens app
   â†’ Sees Home Screen with bird-wing layout
   
2. User taps "New Note" button
   â†’ Navigate to Note Editor
   
3. User selects "Plain Note" type
   â†’ Type chip highlighted
   
4. User enters title and content
   â†’ Text fields filled
   
5. User adds tags (optional)
   â†’ Tags displayed as chips
   
6. User taps "Create Note"
   â†’ Saving animation shown
   â†’ Note saved to Hive
   â†’ Success message displayed
   â†’ Return to Home
   
7. User sees new note on Home Screen
   â†’ Note appears with slide animation
   â†’ Positioned in bird-wing layout
```

### Journey 2: Create an Encrypted Note

```
1. User opens app and taps "New Note"
   
2. User selects "Password Note" type
   â†’ Pink color theme applied
   
3. User enters title: "My Passwords"
   
4. User toggles "Encrypt this note" ON
   â†’ Password field appears
   
5. User enters password: "SecurePass123"
   â†’ Password hidden with dots
   â†’ Toggle visibility available
   
6. User enters sensitive content
   
7. User taps "Create Note"
   â†’ Content encrypted using AES-GCM
   â†’ Encrypted note saved to Hive
   â†’ Success message shown
   
8. User returns to Home Screen
   â†’ Note displays with ğŸ”’ lock icon
   â†’ Content not visible
```

### Journey 3: View and Unlock Encrypted Note

```
1. User sees encrypted note on Home
   â†’ Note shows "ğŸ”’ Tap to unlock"
   
2. User taps the encrypted note
   â†’ Unlock modal appears
   â†’ Glassmorphic dialog with blur
   
3. User enters password
   â†’ Password field with visibility toggle
   
4a. Correct password:
   â†’ Modal closes
   â†’ Content decrypted
   â†’ Note Detail screen shown
   â†’ Content is selectable
   
4b. Incorrect password:
   â†’ Error message shown
   â†’ Modal stays open
   â†’ User can retry
   
5. User can now:
   â†’ Read decrypted content
   â†’ Copy to clipboard
   â†’ Edit the note
   â†’ Delete the note
```

### Journey 4: Search and Filter Notes

```
1. User on Home Screen
   
2. User taps Search icon
   â†’ Search bar slides in
   â†’ Keyboard appears
   
3. User types "password"
   â†’ Results filter in real-time
   â†’ Only matching notes shown
   â†’ Count updates
   
4. User taps "Password" filter chip
   â†’ Further filters to password type
   â†’ Combined with search query
   
5. User clears search
   â†’ All notes reappear
   â†’ Filter remains active
   
6. User taps "All" chip
   â†’ All notes shown
   â†’ Filter cleared
```

### Journey 5: Edit Existing Note

```
1. User taps a note card
   â†’ Note Detail screen opens
   
2. User taps Edit icon
   â†’ Note Editor opens
   â†’ Fields pre-filled with data
   
3. User modifies content
   â†’ Changes reflected in text fields
   
4. User adds new tags
   â†’ Tags added to list
   
5. User taps "Update Note"
   â†’ Note updated in Hive
   â†’ Updated timestamp changed
   â†’ Return to Detail screen
   
6. Changes visible immediately
```

### Journey 6: Delete Note

```
1. User opens Note Detail
   
2. User taps Delete icon
   â†’ Confirmation modal appears
   â†’ Warning message shown
   
3. User taps "Cancel"
   â†’ Modal closes
   â†’ Note remains
   
   OR
   
   User taps "Delete"
   â†’ Note removed from Hive
   â†’ Success message shown
   â†’ Return to Home Screen
   â†’ Note no longer visible
```

---

## ğŸ¨ Animation Timeline

### Home Screen Load
```
Time    Animation
0ms     Background gradient fades in
200ms   Header "My Notes" slides in from left
300ms   Search icon scales in
400ms   Filter chips fade in
500ms   First note card slides from left
600ms   Second note card slides from right
700ms   Third note card slides from left
800ms   FAB button scales in
```

### Note Card Interaction
```
User taps card
â”œâ”€ 0ms: Scale down to 0.95
â”œâ”€ 100ms: Scale back to 1.0
â”œâ”€ 150ms: Navigate to detail
â””â”€ 200ms: Detail screen fades in
```

### Unlock Modal
```
Modal appears
â”œâ”€ 0ms: Backdrop blur increases
â”œâ”€ 100ms: Dialog scales from 0.8 to 1.0
â”œâ”€ 200ms: Content fades in
â””â”€ 300ms: Lock icon bounces
```

### Editor Screen
```
Screen opens
â”œâ”€ 0ms: Background fades in
â”œâ”€ 100ms: App bar scales in
â”œâ”€ 200ms: Type selector slides down
â”œâ”€ 300ms: Title field slides up
â”œâ”€ 400ms: Content field slides up
â”œâ”€ 500ms: Options slide in
â””â”€ 600ms: Save button scales in
```

---

## ğŸ”„ Data Flow

### Create Note Flow
```
User Input
    â†“
Form Validation
    â†“
Encryption (if enabled)
    â†“
Generate UUID
    â†“
Create NoteModel
    â†“
Save to Hive Box
    â†“
Update UI
    â†“
Show Success Message
```

### Encryption Flow
```
Password + Content
    â†“
Generate Salt (16 bytes)
    â†“
PBKDF2 Key Derivation (10,000 iterations)
    â†“
Generate IV (16 bytes)
    â†“
AES-GCM Encryption
    â†“
Combine: Salt + IV + Encrypted Data
    â†“
Base64 Encode
    â†“
Store in Hive
```

### Decryption Flow
```
Encrypted String from Hive
    â†“
Base64 Decode
    â†“
Extract Salt (first 16 bytes)
    â†“
Extract IV (next 16 bytes)
    â†“
Extract Encrypted Data (remaining)
    â†“
PBKDF2 with Password + Salt
    â†“
AES-GCM Decryption with Key + IV
    â†“
Return Plain Text
```

### Search Flow
```
User Types Query
    â†“
Convert to Lowercase
    â†“
Search in Title (all notes)
    â†“
Search in Content (non-encrypted)
    â†“
Search in Tags (all notes)
    â†“
Combine Results
    â†“
Apply Type Filter (if selected)
    â†“
Sort by Updated Date
    â†“
Display Results
```

---

## ğŸ“Š State Management

### Home Screen States
```
- Loading (initial)
- Empty (no notes)
- Loaded (with notes)
- Searching (search active)
- Filtered (filter applied)
- Error (if any)
```

### Editor States
```
- Creating (new note)
- Editing (existing note)
- Saving (in progress)
- Validating (checking input)
- Success (saved)
- Error (save failed)
```

### Note Detail States
```
- Locked (encrypted, not unlocked)
- Unlocking (password entry)
- Unlocked (decrypted content visible)
- Editing (in editor)
- Deleting (confirmation shown)
```

---

## ğŸ¯ User Actions Summary

| Screen | Actions Available |
|--------|------------------|
| Home | View, Search, Filter, Create, Navigate |
| Editor | Input, Select Type, Toggle Encryption, Add Tags, Save |
| Detail | View, Copy, Edit, Delete, Unlock |
| Unlock Modal | Enter Password, Toggle Visibility, Submit, Cancel |

---

## ğŸ”‘ Key Interactions

1. **Tap** - Primary action (open, select, submit)
2. **Long Press** - Card animation feedback
3. **Swipe** - Dismiss modals/search
4. **Type** - Search, input content
5. **Toggle** - Switch encryption, password visibility
6. **Scroll** - Browse notes list

---

**Complete App Flow Documented! âœ…**

